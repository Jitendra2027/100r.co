<h2>Operators</h2>

<p>To display the list of operators inside of Orca, use <code>CmdOrCtrl+G</code>.</p>

<ul>
  <li><code>A</code> <strong>add</strong>(<em>a</em> b): Outputs sum of inputs.</li>
  <li><code>B</code> <strong>subtract</strong>(<em>a</em> b): Outputs difference of inputs.</li>
  <li><code>C</code> <strong>clock</strong>(<em>rate</em> mod): Outputs modulo of frame.</li>
  <li><code>D</code> <strong>delay</strong>(<em>rate</em> mod): Bangs on modulo of frame.</li>
  <li><code>E</code> <strong>east</strong>: Moves eastward, or bangs.</li>
  <li><code>F</code> <strong>if</strong>(<em>a</em> b): Bangs if inputs are equal.</li>
  <li><code>G</code> <strong>generator</strong>(<em>x</em> <em>y</em> <em>len</em>): Writes operands with offset.</li>
  <li><code>H</code> <strong>halt</strong>: Halts southward operand.</li>
  <li><code>I</code> <strong>increment</strong>(<em>step</em> mod): Increments southward operand.</li>
  <li><code>J</code> <strong>jumper</strong>(<em>val</em>): Outputs northward operand.</li>
  <li><code>K</code> <strong>konkat</strong>(<em>len</em>): Reads multiple variables.</li>
  <li><code>L</code> <strong>less</strong>(<em>a</em> <em>b</em>): Outputs smallest of inputs.</li>
  <li><code>M</code> <strong>multiply</strong>(<em>a</em> b): Outputs product of inputs.</li>
  <li><code>N</code> <strong>north</strong>: Moves Northward, or bangs.</li>
  <li><code>O</code> <strong>read</strong>(<em>x</em> <em>y</em> read): Reads operand with offset.</li>
  <li><code>P</code> <strong>push</strong>(<em>len</em> <em>key</em> val): Writes eastward operand.</li>
  <li><code>Q</code> <strong>query</strong>(<em>x</em> <em>y</em> <em>len</em>): Reads operands with offset.</li>
  <li><code>R</code> <strong>random</strong>(<em>min</em> max): Outputs random value.</li>
  <li><code>S</code> <strong>south</strong>: Moves southward, or bangs.</li>
  <li><code>T</code> <strong>track</strong>(<em>key</em> <em>len</em> val): Reads eastward operand.</li>
  <li><code>U</code> <strong>uclid</strong>(<em>step</em> max): Bangs on Euclidean rhythm.</li>
  <li><code>V</code> <strong>variable</strong>(<em>write</em> read): Reads and writes variable.</li>
  <li><code>W</code> <strong>west</strong>: Moves westward, or bangs.</li>
  <li><code>X</code> <strong>write</strong>(<em>x</em> <em>y</em> val): Writes operand with offset.</li>
  <li><code>Y</code> <strong>jymper</strong>(<em>val</em>): Outputs westward operand.</li>
  <li><code>Z</code> <strong>lerp</strong>(<em>rate</em> target): Transitions operand to input.</li>
  <li><code>*</code> <strong>bang</strong>: Bangs neighboring operands.</li>
  <li><code>#</code> <strong>comment</strong>: Halts a line.</li>
</ul>

<h3>IO</h3>

<ul>
  <li><code>:</code> <strong>midi</strong>(channel octave note velocity length): Sends a MIDI note.</li>
  <li><code>%</code> <strong>mono</strong>(channel octave note velocity length): Sends monophonic MIDI note.</li>
  <li><code>!</code> <strong>cc</strong>(channel knob value): Sends MIDI control change.</li>
  <li><code>?</code> <strong>pb</strong>(channel value): Sends MIDI pitch bench.</li>
  <li><code>;</code> <strong>udp</strong>: Sends UDP message.</li>
  <li><code>=</code> <strong>osc</strong>(<em>path</em>): Sends OSC message.</li>
  <li><code>$</code> <strong>self</strong>: Sends <a href="#Commands">ORCA command</a>.</li>
</ul>

<h2>MIDI</h2>

<p>The <a href="https://en.wikipedia.org/wiki/MIDI" rel="nofollow">MIDI</a> operator <code>:</code> takes up to 5 inputs('channel, 'octave, 'note, velocity, length).</p>
<p>For example, <code>:25C</code>, is a <strong>C note, on the 5th octave, through the 3rd MIDI channel</strong>, <code>:04c</code>, is a <strong>C# note, on the 4th octave, through the 1st MIDI channel</strong>. Velocity is an optional value from <code>0</code>(0/127) to <code>g</code>(127/127). Note length is the number of frames during which a note remains active.</p>

<h2>MIDI MONO</h2>
<p>The <a href="https://en.wikipedia.org/wiki/Monophony" rel="nofollow">MONO</a> operator <code>%</code> takes up to 5 inputs('channel, 'octave, 'note, velocity, length).</p>
<p>This operator is very similar to the default Midi operator, but <strong>each new note will stop the previously playing note</strong>, would its length overlap with the new one. Making certain that only a single note is ever played at once, this is ideal for monophonic analog synthetisers that might struggle to dealing with chords and note overlaps.</p>

<h2>MIDI CC</h2>
<p>The <a href="https://www.sweetwater.com/insync/continuous-controller/" rel="nofollow">MIDI CC</a> operator <code>!</code> takes 3 inputs('channel, 'knob, 'value).</p>
<p>It sends a value <strong>between 0-127</strong>, where the value is calculated as a ratio of 36, over a maximum of 127. For example, <code>!008</code>, is sending <strong>28</strong>, or <code>(8/36)*127</code> through the first channel, to the control mapped with <code>id0</code>. You can press <strong>enter</strong>, with the <code>!</code> operator selected, to assign it to a controller. By default, the operator sends to <code>CC64</code> <a href="https://nickfever.com/Music/midi-cc-list" rel="nofollow">and up</a>, the offset can be changed with the <a href="#commands">command</a> <code>cc:0</code>, to set the offset to 0.</p>

<h2>MIDI PITCHBEND</h2>
<p>The <a href="https://www.sweetwater.com/insync/pitch-bend/" rel="nofollow">MIDI PB</a> operator <code>?</code> takes 3 inputs('channel, 'lsb, 'msb).</p>
<p>It sends two different values <strong>between 0-127</strong>, where the value is calculated as a ratio of 36, over a maximum of 127. For example, <code>?008</code>, is sending an MSB of <strong>28</strong>, or <code>(8/36)*127</code> and an LSB of 0 through the first midi channel.</p>

<h2>MIDI PROGRAM CHANGE</h2>
<p>This is a command (see below) rather than an operator and it combines the <a href="https://www.sweetwater.com/sweetcare/articles/6-what-msb-lsb-refer-for-changing-banks-andprograms/" rel="nofollow">MIDI program change and bank select functions</a>.</p>
<p>The syntax is <code>pg:channel;msb;lsb;program</code>. Channel is 0-15, msb/lsb/program are 0-127, but program will automatically be translated to 1-128 by the MIDI driver. <code>program</code> typically correspondes to a "patch" selection on a synth. Note that <code>msb</code> may also be identified as "bank" and <code>lsb</code> as "sub" in some applications (like Ableton Live).</p>
<p><code>msb</code> and <code>lsb</code> can be left blank if you only want to send a simple program change. For example, <code>pg:0;;;63</code> will set the synth to patch number 64 (without changing the bank)</p>

<h2>UDP</h2>
<p>The <a href="https://nodejs.org/api/dgram.html#dgram_socket_send_msg_offset_length_port_address_callback" rel="nofollow">UDP</a> operator <code>;</code> locks each consecutive eastwardly ports. For example, <code>;hello</code>, will send the string "hello", on bang, to the port <code>49160</code> on <code>localhost</code>. In commander, use <code>udp:7777</code> to select the <strong>custom UDP port 7777</strong>, and <code>ip:127.0.0.12</code> to change the target IP. UDP is not available in the browser version of Orca.</p>

<h2>OSC</h2>
<p>The <a href="https://github.com/MylesBorins/node-osc">OSC</a> operator <code>=</code> locks each consecutive eastwardly ports. The first character is used for the path, the following characters are sent as integers using the <a href="https://github.com/hundredrabbits/Orca#base36-table">base36 Table</a>. In commander, use <code>osc:7777</code> to select the <strong>custom OSC port 7777</strong>, and <code>ip:127.0.0.12</code> to change the target IP. OSC is not available in the browser version of Orca.</p>
<p>For example, <code>=1abc</code> will send <code>10</code>, <code>11</code> and <code>12</code> to <code>/1</code>, via the port <code>49162</code> on <code>localhost</code>; <code>=a123</code> will send <code>1</code>, <code>2</code> and <code>3</code>, to the path <code>/a</code>.</p>

<h2>Advanced Controls</h2>
<p>Some of Orca's features can be <strong>controlled externally</strong> via UDP though port <code>49160</code>, or via its own command-line interface. To activate the command-line prompt, press <code>CmdOrCtrl+K</code>. The prompt can also be used to inject patterns or change settings.</p>

<h3>Project Mode</h3>
<p>You can <strong>quickly inject orca files</strong> into the currently active file, by using the command-line prompt allowing you to navigate across multiple files like you would a project. Press <code>CmdOrCtrl+L</code> to load multiple orca files, then press <code>CmdOrCtrl+B</code> and type the name of a loaded <code>.orca</code> file to inject it.</p>

<h3>Default Ports</h3>
<table>
  <tr>
    <th>UDP Input</th>
    <th>OSC Input</th>
    <th>UDP Output</th>
    <th>OSC Output</th>
  </tr>
  <tr>
    <td>49160</td>
    <td>None</td>
    <td>49161</td>
    <td>49162</td>
  </tr>
</table>

<h3>Commands</h3>
<p>All commands have a shorthand equivalent to their first two characters, for example, <code>write</code> can also be called using <code>wr</code>. You can see the full list of commands <a href="https://github.com/hundredrabbits/Orca/blob/master/desktop/sources/scripts/commander.js">here</a>.</p>
<ul>
  <li><code>play</code> Plays program.</li>
  <li><code>stop</code> Stops program.</li>
  <li><code>run</code> Runs current frame.</li>
  <li><code>bpm:140</code> Sets bpm speed to <code>140</code>.</li>
  <li><code>apm:160</code> Animates bpm speed to <code>160</code>.</li>
  <li><code>frame:0</code> Sets the frame value to <code>0</code>.</li>
  <li><code>skip:2</code> Adds <code>2</code>, to the current frame value.</li>
  <li><code>rewind:2</code> Removes <code>2</code>, to the current frame value.</li>
  <li><code>color:f00;0f0;00f</code> Colorizes the interface.</li>
  <li><code>find:aV</code> Sends cursor to string <code>aV</code>.</li>
  <li><code>select:3;4;5;6</code> Move cursor to position <code>3,4</code>, and select size <code>5:6</code>(optional).</li>
  <li><code>inject:pattern;12;34</code> Inject the local file <code>pattern.orca</code>, at <code>12,34</code>(optional).</li>
  <li><code>write:H;12;34</code> Writes glyph <code>H</code>, at <code>12,34</code>(optional).</li>
  <li><code>time</code> Prints the time, in minutes seconds, since <code>0f</code>.</li>
</ul>

<h2>Web Version</h2>

<img src='../media/content/tools/orca/orca.5.jpg'/><p>It is now possible to use Orca in your browser, without the need to install it as an application.</p><p>We decided to build a browser compatible version in response to Apple moving toward <a href='https://www.cultofmac.com/618378/apple-will-soon-require-all-macos-apps-to-be-notarized/' target='_blank' class='external'>requiring all applications to be notarized</a>, you can learn more about how this issue will impact small developers <a href='http://www.nathalielawhead.com/candybox/the-future-of-my-games-on-apple-post-catalina-and-what-this-means-for-art-games-in-general' target='_blank' class='external'>here</a>. While we no longer support the OSX platform, our <a href='https://hundredrabbits.github.io/Orca' target='_blank' class='external'>web version</a> will allow Orca users still using Apple products to run Orca in their browser.</p><a class='button' href='https://hundredrabbits.github.io/Orca' target='_blank'>Use Orca Live</a>